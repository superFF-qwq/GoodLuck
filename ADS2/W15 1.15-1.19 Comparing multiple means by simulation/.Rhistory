g=g+labs(y="carot/log10(carat)")
#g=g+theme()
#g=g+theme(ylab="log10 carat")
#g
#g1=g+sm
#g1
g=g+geom_smooth(method="lm",mapping=aes(x=as.numeric(clarity)))
g=g+scale_y_continuous(limit=c(0,3,3))
#ggarrange(g1,g2)
g
#dev.off()
library(tidyverse)
#library("gridExtra")
library(ggplot2)
#install.packages('ppubr')
#library(ppubr)
dev.off()
dev.new()
data(diamonds)
#data=diamonds
#head(diamonds)
#g=ggplot(data=diamonds,mapping=
#         aes(x=carat,y=price,group=cut))
#g
#g1=g+geom_point(stat="identity",
#                aes(colour=cut))
#g1=g+geom_point(stat="identity",
#                aes(colour=cut),size=0.1,alpha=0.2)
#g1=g+geom_point(stat="identity",
#                aes(colour=cut),size=0.1,alpha=0.2,shape=18)
#alpha:transparency
#d=ggplot(diamonds,aes(carat))+xlim(0,3)
#d+stat_bin(aes(y=after_stat(density)),
#           binwidth=0.1,geom="area")
#png(file="fig2.png")
#d+stat_bin(aes(y=..count..),
#           binwidth=0.01,geom="area")
#d+stat_bin(aes(size=..density..),
#           binwidth=0.1,geom="point",
#           )
#png(file="purple.png")
#d+geom_area(stat="count")
g=ggplot(data=diamonds,mapping=
aes(x=clarity,y=carat,color=cut))
g=g+geom_boxplot()
g=g+labs(title="Carat vs clarity")
#g=g+ggtitle("Carat vs clarity")
#g=g+
sm=geom_smooth(method="lm",mapping=aes(x=as.numeric(clarity),
y=clarity))
#g=g+facet_wrap(cut~color)
#g=g+facet_grid(cut~color)
#g=g+scale_color_brewer(rgb(red=1,green=0.1,blue=1))
g=g+scale_color_brewer(palette="Purples")
g1=g+theme(plot.title=element_text(hjust=0.5)) #title in the middle
#task4
#g=g+scale_y_log10()
g=g+scale_y_continuous(trans="log10")
#g=g+scale_y_continuous(trans="log10",name="log10 carot")
g=g+labs(y="carot/log10(carat)")
#g=g+theme()
#g=g+theme(ylab="log10 carat")
#g
#g1=g+sm
#g1
g=g+geom_smooth(method="lm",mapping=aes(x=as.numeric(clarity)))
g=g+scale_y_continuous(limit=c(0.3,3))
#ggarrange(g1,g2)
g
#dev.off()
library(tidyverse)
#library("gridExtra")
library(ggplot2)
#install.packages('ppubr')
#library(ppubr)
dev.off()
dev.new()
data(diamonds)
#data=diamonds
#head(diamonds)
#g=ggplot(data=diamonds,mapping=
#         aes(x=carat,y=price,group=cut))
#g
#g1=g+geom_point(stat="identity",
#                aes(colour=cut))
#g1=g+geom_point(stat="identity",
#                aes(colour=cut),size=0.1,alpha=0.2)
#g1=g+geom_point(stat="identity",
#                aes(colour=cut),size=0.1,alpha=0.2,shape=18)
#alpha:transparency
#d=ggplot(diamonds,aes(carat))+xlim(0,3)
#d+stat_bin(aes(y=after_stat(density)),
#           binwidth=0.1,geom="area")
#png(file="fig2.png")
#d+stat_bin(aes(y=..count..),
#           binwidth=0.01,geom="area")
#d+stat_bin(aes(size=..density..),
#           binwidth=0.1,geom="point",
#           )
#png(file="purple.png")
#d+geom_area(stat="count")
g=ggplot(data=diamonds,mapping=
aes(x=clarity,y=carat,color=cut))
g=g+geom_boxplot()
g=g+labs(title="Carat vs clarity")
#g=g+ggtitle("Carat vs clarity")
#g=g+
sm=geom_smooth(method="lm",mapping=aes(x=as.numeric(clarity),
y=clarity))
#g=g+facet_wrap(cut~color)
#g=g+facet_grid(cut~color)
#g=g+scale_color_brewer(rgb(red=1,green=0.1,blue=1))
g=g+scale_color_brewer(palette="Purples")
g1=g+theme(plot.title=element_text(hjust=0.5)) #title in the middle
#task4
#g=g+scale_y_log10()
g=g+scale_y_continuous(trans="log10")
#g=g+scale_y_continuous(trans="log10",name="log10 carot")
g=g+labs(y="carot/log10(carat)")
#g=g+theme()
#g=g+theme(ylab="log10 carat")
#g
#g1=g+sm
#g1
g=g+geom_smooth(method="lm",mapping=aes(x=as.numeric(clarity)))
g=g+scale_y_continuous(limit=c(0.3,3.0))
#ggarrange(g1,g2)
g
#dev.off()
library(tidyverse)
#library("gridExtra")
library(ggplot2)
#install.packages('ppubr')
#library(ppubr)
dev.off()
dev.new()
data(diamonds)
#data=diamonds
#head(diamonds)
#g=ggplot(data=diamonds,mapping=
#         aes(x=carat,y=price,group=cut))
#g
#g1=g+geom_point(stat="identity",
#                aes(colour=cut))
#g1=g+geom_point(stat="identity",
#                aes(colour=cut),size=0.1,alpha=0.2)
#g1=g+geom_point(stat="identity",
#                aes(colour=cut),size=0.1,alpha=0.2,shape=18)
#alpha:transparency
#d=ggplot(diamonds,aes(carat))+xlim(0,3)
#d+stat_bin(aes(y=after_stat(density)),
#           binwidth=0.1,geom="area")
#png(file="fig2.png")
#d+stat_bin(aes(y=..count..),
#           binwidth=0.01,geom="area")
#d+stat_bin(aes(size=..density..),
#           binwidth=0.1,geom="point",
#           )
#png(file="purple.png")
#d+geom_area(stat="count")
g=ggplot(data=diamonds,mapping=
aes(x=clarity,y=carat,color=cut))
g=g+geom_boxplot()
g=g+labs(title="Carat vs clarity")
#g=g+ggtitle("Carat vs clarity")
#g=g+
sm=geom_smooth(method="lm",mapping=aes(x=as.numeric(clarity),
y=clarity))
#g=g+facet_wrap(cut~color)
#g=g+facet_grid(cut~color)
#g=g+scale_color_brewer(rgb(red=1,green=0.1,blue=1))
g=g+scale_color_brewer(palette="Purples")
g1=g+theme(plot.title=element_text(hjust=0.5)) #title in the middle
#task4
#g=g+scale_y_log10()
g=g+scale_y_continuous(trans="log10")
#g=g+scale_y_continuous(trans="log10",name="log10 carot")
g=g+labs(y="carot/log10(carat)")
#g=g+theme()
#g=g+theme(ylab="log10 carat")
#g
#g1=g+sm
#g1
g=g+geom_smooth(method="lm",mapping=aes(x=as.numeric(clarity)))
g=g+scale_y_continuous(limit=c(0.3,3.0),blocks=0.5)
library(tidyverse)
#library("gridExtra")
library(ggplot2)
#install.packages('ppubr')
#library(ppubr)
dev.off()
dev.new()
data(diamonds)
#data=diamonds
#head(diamonds)
#g=ggplot(data=diamonds,mapping=
#         aes(x=carat,y=price,group=cut))
#g
#g1=g+geom_point(stat="identity",
#                aes(colour=cut))
#g1=g+geom_point(stat="identity",
#                aes(colour=cut),size=0.1,alpha=0.2)
#g1=g+geom_point(stat="identity",
#                aes(colour=cut),size=0.1,alpha=0.2,shape=18)
#alpha:transparency
#d=ggplot(diamonds,aes(carat))+xlim(0,3)
#d+stat_bin(aes(y=after_stat(density)),
#           binwidth=0.1,geom="area")
#png(file="fig2.png")
#d+stat_bin(aes(y=..count..),
#           binwidth=0.01,geom="area")
#d+stat_bin(aes(size=..density..),
#           binwidth=0.1,geom="point",
#           )
#png(file="purple.png")
#d+geom_area(stat="count")
g=ggplot(data=diamonds,mapping=
aes(x=clarity,y=carat,color=cut))
g=g+geom_boxplot()
g=g+labs(title="Carat vs clarity")
#g=g+ggtitle("Carat vs clarity")
#g=g+
sm=geom_smooth(method="lm",mapping=aes(x=as.numeric(clarity),
y=clarity))
#g=g+facet_wrap(cut~color)
#g=g+facet_grid(cut~color)
#g=g+scale_color_brewer(rgb(red=1,green=0.1,blue=1))
g=g+scale_color_brewer(palette="Purples")
g1=g+theme(plot.title=element_text(hjust=0.5)) #title in the middle
#task4
#g=g+scale_y_log10()
g=g+scale_y_continuous(trans="log10")
#g=g+scale_y_continuous(trans="log10",name="log10 carot")
g=g+labs(y="carot/log10(carat)")
#g=g+theme()
#g=g+theme(ylab="log10 carat")
#g
#g1=g+sm
#g1
g=g+geom_smooth(method="lm",mapping=aes(x=as.numeric(clarity)))
g=g+scale_y_continuous(limit=c(0.3,3.0),breaks=0.5)
#ggarrange(g1,g2)
g
#dev.off()
library(tidyverse)
#library("gridExtra")
library(ggplot2)
#install.packages('ppubr')
#library(ppubr)
dev.off()
dev.new()
data(diamonds)
#data=diamonds
#head(diamonds)
#g=ggplot(data=diamonds,mapping=
#         aes(x=carat,y=price,group=cut))
#g
#g1=g+geom_point(stat="identity",
#                aes(colour=cut))
#g1=g+geom_point(stat="identity",
#                aes(colour=cut),size=0.1,alpha=0.2)
#g1=g+geom_point(stat="identity",
#                aes(colour=cut),size=0.1,alpha=0.2,shape=18)
#alpha:transparency
#d=ggplot(diamonds,aes(carat))+xlim(0,3)
#d+stat_bin(aes(y=after_stat(density)),
#           binwidth=0.1,geom="area")
#png(file="fig2.png")
#d+stat_bin(aes(y=..count..),
#           binwidth=0.01,geom="area")
#d+stat_bin(aes(size=..density..),
#           binwidth=0.1,geom="point",
#           )
#png(file="purple.png")
#d+geom_area(stat="count")
g=ggplot(data=diamonds,mapping=
aes(x=clarity,y=carat,color=cut))
g=g+geom_boxplot()
g=g+labs(title="Carat vs clarity")
#g=g+ggtitle("Carat vs clarity")
#g=g+
sm=geom_smooth(method="lm",mapping=aes(x=as.numeric(clarity),
y=clarity))
#g=g+facet_wrap(cut~color)
#g=g+facet_grid(cut~color)
#g=g+scale_color_brewer(rgb(red=1,green=0.1,blue=1))
g=g+scale_color_brewer(palette="Purples")
g1=g+theme(plot.title=element_text(hjust=0.5)) #title in the middle
#task4
#g=g+scale_y_log10()
g=g+scale_y_continuous(trans="log10")
#g=g+scale_y_continuous(trans="log10",name="log10 carot")
g=g+labs(y="carot/log10(carat)")
#g=g+theme()
#g=g+theme(ylab="log10 carat")
#g
#g1=g+sm
#g1
g=g+geom_smooth(method="lm",mapping=aes(x=as.numeric(clarity)))
g=g+scale_y_continuous(limit=c(0.3,3.0),minor_breaks=0.5)
#ggarrange(g1,g2)
g
#dev.off()
library(tidyverse)
#library("gridExtra")
library(ggplot2)
#install.packages('ppubr')
#library(ppubr)
dev.off()
dev.new()
data(diamonds)
#data=diamonds
#head(diamonds)
#g=ggplot(data=diamonds,mapping=
#         aes(x=carat,y=price,group=cut))
#g
#g1=g+geom_point(stat="identity",
#                aes(colour=cut))
#g1=g+geom_point(stat="identity",
#                aes(colour=cut),size=0.1,alpha=0.2)
#g1=g+geom_point(stat="identity",
#                aes(colour=cut),size=0.1,alpha=0.2,shape=18)
#alpha:transparency
#d=ggplot(diamonds,aes(carat))+xlim(0,3)
#d+stat_bin(aes(y=after_stat(density)),
#           binwidth=0.1,geom="area")
#png(file="fig2.png")
#d+stat_bin(aes(y=..count..),
#           binwidth=0.01,geom="area")
#d+stat_bin(aes(size=..density..),
#           binwidth=0.1,geom="point",
#           )
#png(file="purple.png")
#d+geom_area(stat="count")
g=ggplot(data=diamonds,mapping=
aes(x=clarity,y=carat,color=cut))
g=g+geom_boxplot()
g=g+labs(title="Carat vs clarity")
#g=g+ggtitle("Carat vs clarity")
#g=g+
sm=geom_smooth(method="lm",mapping=aes(x=as.numeric(clarity),
y=clarity))
#g=g+facet_wrap(cut~color)
#g=g+facet_grid(cut~color)
#g=g+scale_color_brewer(rgb(red=1,green=0.1,blue=1))
g=g+scale_color_brewer(palette="Purples")
g1=g+theme(plot.title=element_text(hjust=0.5)) #title in the middle
#task4
#g=g+scale_y_log10()
g=g+scale_y_continuous(trans="log10")
#g=g+scale_y_continuous(trans="log10",name="log10 carot")
g=g+labs(y="carot/log10(carat)")
#g=g+theme()
#g=g+theme(ylab="log10 carat")
#g
#g1=g+sm
#g1
g=g+geom_smooth(method="lm",mapping=aes(x=as.numeric(clarity)))
g=g+scale_y_continuous(limit=c(0.3,3.0),width=0.5)
library(tidyverse)
library(tidyverse)
#library("gridExtra")
#library(ggplot2)
library(cowplot)
install.packages('rmarkdown')
install.packages('rmarkdown')
library(rmarkdown)
install.packages("rmarkdown")
install.packages('tinytex')
install.packages('tinytex')
version
tinytex::install_tinytex()
quit
q()
Sys.get
Sys.getlocale()
Sys.setlocale()
？Sys.setlocale()
?Sys.setlocale()
q()
library(tinytex)
library(rmarkdown)
library(knitr)
library(tidyverse)
library(cowplot)
setwd("E:\\A大学\\大二下\\ADS2\\W15 Comparing multiple means by simulation")
trial = read.csv("drug_trial.csv")
head(trial)
str(trial)
trial$treatment = as.factor(trial$treatment)
str(trial)
g = ggplot(data = trial, mapping = aes(x = treatment, y = pain, color = treatment))
g = g + geom_boxplot()
g
# H0: Drug A, drug B and placebo has the same effect on the pain.
# HA: There is at least one difference between the effect of drug A, drug B
#     and placebo on the pain.
# H0: The difference between two data from different groups is no larger than the
#     difference between two data from the same groups.
# HA: The difference between two data from different groups is larger than the
#     difference between two data from the same groups.
# randomly draw two data points
gsam = c()
gdif = c()
for(i in 1:100){
sample_index = sample(1:nrow(trial), 2)
x = trial[sample_index[1], ]
y = trial[sample_index[2], ]
dif = abs(x$pain - y$pain)
if(x$treatment == y$treatment)
gsam = c(gsam, dif)
else
gdif = c(gdif, dif)
}
data = data.frame(c(rep("sample group", length(gsam)),
rep("different groups", length(gdif))),
c(gsam, gdif))
names(data)[1] = "type"
names(data)[2] = "difference"
data$type = as.factor(data$type)
head(data)
tail(data)
summary(data)
g2 = ggplot(data = data, mapping = aes(x = type, y = difference))
g2 = g2 + geom_boxplot(mapping = aes(fill = type))
g2
mean(gsam)
mean(gdif)
mean(gdif) - mean(gsam)
wilcox.test(data$difference ~ data$type, alternative = "greater")
wilcox.test(x = data[data$type == "different groups", "difference"],
y = data[data$type == "sample group", "difference"],
alternative = "greater")
g3 =
ggplot(data = data[data$type == "different groups"]) +
geom_line(mapping = aes(x = difference,
col = "different groups"),
stat = "density")
g3 =
ggplot(data = data[data$type == "different groups", ]) +
geom_line(mapping = aes(x = difference,
col = "different groups"),
stat = "density")
g3
g3 =
ggplot(data = data[data$type == "different groups", ]) +
geom_line(mapping = aes(x = difference,
col = "different groups"),
stat = "density")
g4 =
ggplot(data = data[data$type == "same group", ]) +
geom_line(mapping = aes(x = difference,
col = "same group"),
stat = "density")
g3 + g4
g3 =
ggplot() +
geom_line(data = data[data$type == "different groups", ], mapping = aes(x = difference,
col = "different groups"),
stat = "density") +
geom_line(data = data[data$type == "same group", ], mapping = aes(x = difference,
col = "same group"),
stat = "density")
g3
g3 =
ggplot() +
geom_line(data = data[data$type == "different groups", ], mapping = aes(x = difference,
col = "different groups"),
stat = "density") +
geom_line(data = data[data$type == "same group", ], mapping = aes(x = difference,
col = "same group"),
stat = "density")
g3
g3 =
ggplot() +
geom_line(data = data[data$type == "different groups", ], mapping = aes(x = difference,
col = "different groups"),
stat = "density") +
geom_line(data = data[data$type == "same group", ], mapping = aes(x = difference,
col = green),
stat = "density")
g3
g3 =
ggplot() +
geom_line(data = data[data$type == "different groups", ], mapping = aes(x = difference,
col = "different groups"),
stat = "density") +
geom_line(data = data[data$type == "same group", ], mapping = aes(x = difference,
col = "green""),
stat = "density")
g3 =
ggplot() +
geom_line(data = data[data$type == "different groups", ], mapping = aes(x = difference,
col = "different groups"),
stat = "density") +
geom_line(data = data[data$type == "same group", ], mapping = aes(x = difference,
col = "green"),
stat = "density")
g3
g3 =
ggplot() +
geom_line(data = data[data$type == "different groups", ], mapping = aes(x = difference,
col = "different groups"),
stat = "density") +
geom_line(data = data[data$type == "same group", ], mapping = aes(x = difference,
col = "same group"),
stat = "density")
g3
g3 =
ggplot(data = data) +
geom_line(mapping = aes(x = difference, col = type), stat = "density")
g3
